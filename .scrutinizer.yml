checks:
  php:
    code_rating: true
    duplication: true
    fix_php_opening_tag: true
    remove_php_closing_tag: true
    one_class_per_file: true
    side_effects_or_types: true
    no_mixed_inline_html: true
    require_braces_around_control_structures: true
    php5_style_constructor: true
    no_global_keyword: true
    avoid_usage_of_logical_operators: true
    psr2_class_declaration: true
    no_underscore_prefix_in_properties: true
    no_underscore_prefix_in_methods: true
    blank_line_after_namespace_declaration: true
    single_namespace_per_use: true
    psr2_switch_declaration: true
    psr2_control_structure_declaration: true
    avoid_superglobals: true
    security_vulnerabilities: true
    no_exit: true

filter:
  paths: ["src/*"]

build:
  nodes:
    coverage:
      tests:
        override:
          - command: 'vendor/bin/phpunit --coverage-clover=clover.xml'
            coverage:
              file: 'clover.xml'
              format: 'clover'
    php71:
      environment:
        php: 7.1
      tests:
        override:
          - phpunit
    php72:
      environment:
        php: 7.2
      tests:
        override:
          - phpunit
    php73:
      environment:
        php: 7.3
      tests:
        override:
          - phpunit
